# Podfile for AdmobNative iOS Test Project

platform :ios, '13.0'

# Disable warnings for cleaner build
inhibit_all_warnings!

# Use frameworks
use_frameworks!

# ========================================
# Test App Target
# ========================================
target 'AdmobNativeTestApp' do
  # Google Mobile Ads SDK
  pod 'Google-Mobile-Ads-SDK', '~> 11.13.0'
  
  # Optional: User Messaging Platform (for GDPR/CCPA)
  # pod 'GoogleUserMessagingPlatform'
end

# ========================================
# Framework Target (for building .framework)
# ========================================
target 'AdmobNative' do
  # Google Mobile Ads SDK
  pod 'Google-Mobile-Ads-SDK', '~> 11.13.0'
end

# ========================================
# Post Install Configuration
# ========================================
post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      # Set minimum deployment target
      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '13.0'
      
      # Disable bitcode (AdMob doesn't require it)
      config.build_settings['ENABLE_BITCODE'] = 'NO'
      
      # Swift version
      config.build_settings['SWIFT_VERSION'] = '5.0'
      
      # Other Swift flags
      config.build_settings['OTHER_SWIFT_FLAGS'] = '-Xfrontend -warn-long-expression-type-checking=500'
    end
  end
  
  puts "âœ… Pods configuration complete"
end
